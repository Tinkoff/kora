/**
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech) ({{{generatorVersion}}}).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */
package {{package}}

import ru.tinkoff.kora.common.Mapping;
import ru.tinkoff.kora.http.common.annotation.HttpRoute;
import ru.tinkoff.kora.http.common.annotation.Path;
import ru.tinkoff.kora.http.common.annotation.Header;
import ru.tinkoff.kora.http.common.annotation.Query;
import javax.annotation.Nullable;
import ru.tinkoff.kora.http.client.common.annotation.ResponseCodeMapper;
import ru.tinkoff.kora.http.server.common.annotation.HttpController;

{{#imports}}import {{import}}
{{/imports}}
{{#hasAuthMethods}}
import ru.tinkoff.kora.common.Tag;
import ru.tinkoff.kora.http.common.annotation.InterceptWith;
import ru.tinkoff.kora.http.server.common.HttpServerInterceptor;
{{/hasAuthMethods}}{{#vendorExtensions.enableValidation}}
import ru.tinkoff.kora.http.common.annotation.InterceptWith;
import ru.tinkoff.kora.validation.common.annotation.Validate;
import ru.tinkoff.kora.validation.common.annotation.Valid;
import ru.tinkoff.kora.validation.common.annotation.Size;
import ru.tinkoff.kora.validation.common.annotation.Pattern;
import ru.tinkoff.kora.validation.common.annotation.Range;
{{/vendorExtensions.enableValidation}}

@ru.tinkoff.kora.common.annotation.Generated("openapi generator kora client"){{#discriminator}}{{>typeInfoAnnotation}}{{/discriminator}}
@HttpController{{#vendorExtensions.enableValidation}}
@ru.tinkoff.kora.common.Component{{/vendorExtensions.enableValidation}}
{{#vendorExtensions.enableValidation}}open{{/vendorExtensions.enableValidation}} class {{classname}}Controller(private val delegate: {{classname}}Delegate) {
{{#operations}}
{{#operation}}
    /**
     * {{httpMethod}} {{{path}}}{{#summary}} : {{.}}{{/summary}}
    {{#notes}}
     * {{.}}
    {{/notes}}
     *
    {{#allParams}}
     * @param {{paramName}} {{description}}{{#required}} (required){{/required}}{{^required}} (optional{{#defaultValue}}, default to {{.}}{{/defaultValue}}){{/required}}
    {{/allParams}}
     * @return {{#responses}}{{message}} (status code {{code}}){{^-last}}
     *         or {{/-last}}{{/responses}}
    {{#isDeprecated}}
     * @deprecated
    {{/isDeprecated}}
    {{#externalDocs}}
     * {{description}}
     * @see <a href="{{url}}">{{summary}} Documentation</a>
    {{/externalDocs}}
     */
    @HttpRoute(method = "{{httpMethod}}", path = "{{path}}"){{#implicitHeaders}}
    @ApiImplicitParams({
    {{#headerParams}}
     TODO implicit header
    {{>implicitHeader}}
    {{/headerParams}}
    })
    {{/implicitHeaders}}{{#hasAuthMethods}}
    @InterceptWith(tag = Tag(ApiSecurity.{{vendorExtensions.authInterceptorTag}}::class), value = HttpServerInterceptor::class){{/hasAuthMethods}}{{#vendorExtensions.x-validate}}
    @InterceptWith(ru.tinkoff.kora.validation.module.http.server.ValidationHttpServerInterceptor::class)
    @Validate
    {{/vendorExtensions.x-validate}}
    @Mapping({{classname}}ServerResponseMappers.{{#lambda.titlecase}}{{operationId}}{{/lambda.titlecase}}ResponseMapper::class)
    suspend fun {{operationId}}({{>kotlinAnnotatedParams}}): {{classname}}Responses.{{#lambda.titlecase}}{{operationId}}{{/lambda.titlecase}}ApiResponse {
      return this.delegate.{{operationId}}(
        {{#allParams}}{{#lambda.trim}}
        {{#hasFormParams}}{{^isFormParam}}{{paramName}},{{/isFormParam}}{{/hasFormParams}}
        {{^hasFormParams}}{{paramName}}{{^-last}},{{/-last}}{{/hasFormParams}}{{/lambda.trim}}{{/allParams}}{{#hasFormParams}}
        form{{/hasFormParams}}
      )
    }

{{#hasFormParams}}
    data class {{#lambda.titlecase}}{{operationId}}{{/lambda.titlecase}}FormParam(
      {{#formParams}}
          val {{paramName}}: {{#isFile}}ru.tinkoff.kora.http.common.form.FormMultipart.FormPart.MultipartFile{{/isFile}}{{^isFile}}{{{dataType}}}{{/isFile}}{{^required}}?{{/required}}{{^-last}},{{/-last}}
      {{/formParams}}
    ){}
{{/hasFormParams}}


{{/operation}}
}
{{/operations}}
